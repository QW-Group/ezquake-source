<p>This feature and manual page has been inherited from the <a href="http://www.fuhquake.net/">FuhQuake</a> client 
made by A Nourai aka 'fuh' (#fuhquake on Quakenet irc).</p>

<h3>Introduction</h3>
<p>This client supports Winamp 2.x control in Win32 binaries and XMMS control in Linux binaries.</p>

<p>If you often run winamp at the same time as running quake then this feature
is for you.  If you have problems running winamp at the same time as quake
then this feature is not for you.</p>

<p>If you are using linux binaries, skip to the XMMS section down below.</p>

<h3>Menu</h3>
<p>The menu_mp3_control command takes you to the winamp control menu.  It's good
to bind this to a key.  You can also access the winamp control menu through
the main menu (enter the help/ordering menu if you don't have an updated
menu graphics).</p>

<p>Navigating the menu is straight forward.</p>

<p>If you don't have winamp running when you enter the menu, you'll be given
the option to start it from the menu.  But it's better to have winamp
running before you start the client as it may cause some undesiriable alt tabbing
depending on your operating system.</p>

<p>From the main winamp control menu you can select to go to the playlist menu, or
you can just go there directly with the menu_mp3_playlist command.</p>


<h3>First Steps : Winamp Configuration</h3>
<p>Few things you need to do.</p>

<p>Firstly use Winamp v2.  You can make Winamp 3 work as well, but you'll need to
read the FAQ below to get a special plugin first.</p>

<ol>
<li>go to winamp preferences and then Options->display.
Untick 'scroll song title in windows taskbar'.</li>

<li>go to plugins -> output and select directsound output.
This makes changing the mp3 volume not affect quake volume.</li>
</ol>

<h3>Menu Hotkeys</h3>
<p>There are some hot keys that work when you are in the mp3 menu.
They are the same keys that you can use in winamp itself, so if
you know winamp's hotkeys then you can use them in the client's
mp3 menu and they will work.</p>

<p>You don't need to use the hotkeys of course, you can just use the menu.</p>

<table>
<thead><tr><td>key</td><td>function</td></tr></thead>
<tbody>
  <tr><td>r</td><td>toggle repeat</td></tr>
  <tr><td>s</td><td>toggle shuffle</td></tr>
  <tr><td>z</td><td>previous in playlist</td></tr>
  <tr><td>x</td><td>play</td></tr>
  <tr><td>c</td><td>pause</td></tr>
  <tr><td>v</td><td>stop</td></tr>
  <tr><td>shift-v</td><td>fadeout</td></tr>
  <tr><td>b</td><td>next in playlist</td></tr>
  <tr><td>keypad leftarrow/rightarrow <a href="#keypad-note">*)</a></td><td>prev/next in playlist</td></tr>
  <tr><td>keypad home/pageup <a href="#keypad-note">*)</a></td><td>rewind/fast forward</td></tr>
  <tr><td>keypad 5 <a href="#keypad-note">*)</a></td><td>play</td></tr>

</tbody>
</table>

<p id="keypad-note">You have to use cl_keypad 1 for last three keys to be available.</p>

<p>Also when in the playlist menu, pressing space will refresh the playlist
and center the playlist so that the currently playing track is in the
middle.</p>


<h3>Commands</h3>
<dl>
  <dt>mp3_play, mp3_pause, mp3_stop, mp3_next</dt><dd>obvious</dd>
  <dt>mp3_fforward, mp3_rewind</dt><dd>fast forward / rewind 5 seconds.</dd>
  <dt>mp3_prev, mp3_next</dt><dd>next/previous track in playlist.</dd>
  <dt>mp3_fadeout</dt><dd>like stop but fades out.</dd>
  <dt>mp3_shuffle, mp3_repeat</dt><dd>toggle playlist shuffle/repeat.</dd>
  <dt>mp3_startwinamp</dt><dd>start winamp if winamp is not running</dd>
  <dt>mp3_playlist</dt><dd>display playlist.  Currently playign track is highlighted.</dd>
  <dt>mp3_playtrack &lt;num&gt;</dt><dd>play track number #num from playlist.</dd>
  <dt>mp3_songinfo</dt><dd>displays song title and other info like time elapsed, total time, and whether paused, stopped or playing.</dd>
  <dt>mp3_loadplaylist &lt;filename&gt;</dt><dd>loads the playlist filename.m3u .</dd>
  <dt>menu_mp3_control</dt><dd>enter mp3 control menu.</dd>
  <dt>menu_mp3_playlist</dt><dd>enter mp3 playlist menu.</dd>
</dl>

<h3>Variables</h3>
<dl>
<dt>mp3_winamp_dir</dt><dd>set this to your winamp directory.  Needed to start winamp from within the client.</dd>
<dt>mp3_scrolltitle</dt><dd>If set to 1 (default), the client will scroll the song title in the mp3 menu when the title is too long to fit into 320x200.</dd>
<dt>mp3_showtime</dt><dd>Controls how time is displayed in the mp3 menu.
<table>
<tr><td>0</td><td>dont display time.</td></tr>
<tr><td>1</td><td>display time elapsed and total time.</td></tr>
<tr><td>2</td><td>display time remaining only.</td></tr>
</table>
</dd>
<dt>mp3_volume 0..1</dt><dd>set winamp volume.</dd>
</dl>

<h3>Macros</h3>
<p>$mp3info : Evaluates to "author - title".</p>

<p>For example if you bind space "say listening to $mp3info"
then hitting space will say something like
"listening to disturbed - rise".</p>

<p>"bind x if disturbed isin $mp3info then say dde music is cool" :)</p>


<h3>Note on XMMS</h3>
<p>Most of the winamp stuff above applies to xmms equally.  The only major difference
is you need to set the mp3_xmms_session variable as well as the mp3_xmms_dir.  If
you are running two instamces of XMMS, "mp3_xmms_session 0" will control one instance
and "mp3_xmms_session 1" the second.  If you only ever have one xmms running on your
system, just use "mp3_xmms_session 0".  Note that the "xmms" binary must be in
"mp3_xmms_dir".  For example, if "mp3_xmms_dir" is "/usr/local/bin" then you need
"/usr/local/bin/xmms" (and appropriate permissions) to start xmms from the menu.</p>

<p>Also, if the client starts XMMS, then it will close it upon exit.  However if you
start XMMS before starting the client, it won't close XMMS upon exit.</p>

<h3>FAQ</h3>
<dl>
<dt>Q1. Can I load playlists from within the client?</dt>
<dd>A1. Yes, but only using the "mp3_loadplaylist" command and not from the menu.
You can make your life a lot easier if you use aliases like:
alias playlist1 "mp3_loadplaylist c:\mp3s\myplaylist" .
It is unlikely that there will ever be menu support for loading playlists.</dd>


<dt>Q2. Can I add/remove songs to my playlist from within the client?</dt>
<dd>A2. No.  Make your playlists using winamp before starting the client.</dd>


<dt>Q3. Can I control winamp using the client and winamp at the same time?</dt>
<dd>A3. Yes you can control everything to do with winamp with the client and winamp
at the same time.  So if you are running the client in windowed mode, you can
change repeat/shuffle etc and use pause/play etc with both the client or
winamp.  If you change anything with winamp, it will be reflected in the
client winamp control menu.
	There are only 2 exceptions.  i) You cannot control winamp's volume
outside of the client.  You have to control it from within the client
using mp3_volume or using the volume control in the mp3 menu. ii) If you load
a playlist using winamp, the playlist menu will only be updated
if you reenter the playlist menu, or press space whilst inside it.</dd>


<dt>Q4. My mouse skips when using winamp and playing a game, and/or winamp
playback skips a lot.</dt>
<dd>A4. Tough.</dd>

<dt>Q5. I don't want to use Winamp 2.  Is there any hope of getting winamp 3 working
with the client?</dt>
<dd>A5. The way winamp 3 talks to other programs is completely different
to the way winamp 2 talks to other programs.  The good news is that there is
a plugin for winamp3 that is supposed to make it compatable with winamp2.  If you're
interested check out the "Winamp 2.x Plugin Manager for Winamp 3" which can be
downloaded at http://www.winamp.com/components3/detail.jhtml?componentId=118230 .
Feedback indicates that this plugin makes winamp3 work flawlessly with the client.</dd>

</dl>
